{"version":3,"sources":["webpack:///./resources/assets/js/beds/bulk_beds.js"],"names":["$","document","ready","dropdownToSelect2","selector","select2","placeholder","width","on","data","bulkBedItemHtml","prepareTemplateRender","append","uniqueId","resetBulkBedItemIndex","index","each","this","find","text","bedTypes","parents","remove","event","preventDefault","screenLock","formData","FormData","ajax","url","bulkBedSaveUrl","type","dataType","processData","contentType","success","result","displaySuccessMessage","message","window","location","href","bedUrl","error","printErrorMessage","complete","screenUnLock"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WACd,aAEA,IAAMC,EAAoB,SAACC,GACvBJ,EAAEI,GAAUC,QAAQ,CAChBC,YAAa,kBACbC,MAAO,UAIfP,EAAEC,UAAUO,GAAG,QAAS,YAAY,WAChC,IAAIC,EAAO,CACP,SACA,UAEAC,EAAkBC,sBAClB,yBAA0BF,GAC9BT,EAAE,6BAA6BY,OAAOF,GACtCP,EAAkB,YAClBU,WAEAC,OAGJ,IAAMA,EAAwB,WAC1B,IAAIC,EAAQ,EAKZ,GAJAf,EAAE,gCAAgCgB,MAAK,WACnChB,EAAEiB,MAAMC,KAAK,gBAAgBC,KAAKJ,GAClCA,OAEAA,EAAQ,GAAK,EAAG,CAChB,IAAIN,EAAO,CACP,SAAYW,SACZ,UAEAV,EAAkBC,sBAClB,yBAA0BF,GAC9BT,EAAE,6BAA6BY,OAAOF,GACtCP,EAAkB,YAClBU,aAIRb,EAAEC,UAAUO,GAAG,QAAS,wBAAwB,WAC5CR,EAAEiB,MAAMI,QAAQ,MAAMC,SACtBR,OAGJd,EAAEC,UAAUO,GAAG,SAAU,iBAAiB,SAAUe,GAChDA,EAAMC,iBACNC,aACA,IAAIC,EAAW,IAAIC,SAAS3B,EAAEiB,MAAM,IACpCjB,EAAE4B,KAAK,CACHC,IAAKC,eACLC,KAAM,OACNC,SAAU,OACVvB,KAAMiB,EACNO,aAAa,EACbC,aAAa,EACbC,QAAS,SAAUC,GACfC,sBAAsBD,EAAOE,SAC7BC,OAAOC,SAASC,KAAOC,QAE3BC,MAAO,SAAUP,GACbQ,kBAAkB,uBAAwBR,IAE9CS,SAAU,WACNC","file":"/assets/js/beds/bulk_beds.js","sourcesContent":["$(document).ready(() => {\n    'use strict';\n\n    const dropdownToSelect2 = (selector) => {\n        $(selector).select2({\n            placeholder: 'Select Bed Type',\n            width: '100%',\n        });\n    };\n\n    $(document).on('click', '#addItem', function () {\n        let data = {\n            'bedTypes': bedTypes,\n            'uniqueId': uniqueId,\n        };\n        let bulkBedItemHtml = prepareTemplateRender(\n            '#bulkBedActionTemplate', data);\n        $('.bulk-beds-item-container').append(bulkBedItemHtml);\n        dropdownToSelect2('.bedType');\n        uniqueId++;\n\n        resetBulkBedItemIndex();\n    });\n\n    const resetBulkBedItemIndex = () => {\n        let index = 1;\n        $('.bulk-beds-item-container>tr').each(function () {\n            $(this).find('.item-number').text(index);\n            index++;\n        });\n        if (index - 1 == 0) {\n            let data = {\n                'services': bedTypes,\n                'uniqueId': uniqueId,\n            };\n            let bulkBedItemHtml = prepareTemplateRender(\n                '#bulkBedActionTemplate', data);\n            $('.bulk-beds-item-container').append(bulkBedItemHtml);\n            dropdownToSelect2('.bedType');\n            uniqueId++;\n        }\n    };\n\n    $(document).on('click', '.delete-invoice-item', function () {\n        $(this).parents('tr').remove();\n        resetBulkBedItemIndex();\n    });\n\n    $(document).on('submit', '#bulkBedsForm', function (event) {\n        event.preventDefault();\n        screenLock();\n        let formData = new FormData($(this)[0]);\n        $.ajax({\n            url: bulkBedSaveUrl,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            processData: false,\n            contentType: false,\n            success: function (result) {\n                displaySuccessMessage(result.message);\n                window.location.href = bedUrl;\n            },\n            error: function (result) {\n                printErrorMessage('#validationErrorsBox', result);\n            },\n            complete: function () {\n                screenUnLock();\n            },\n        });\n    });\n});\n"],"sourceRoot":""}