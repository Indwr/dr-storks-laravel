{"version":3,"sources":["webpack:///./resources/assets/js/beds/beds.js"],"names":["tbl","$","DataTable","processing","serverSide","ajax","url","bedUrl","columnDefs","targets","defaultContent","columns","data","row","id","bed_id","name","bedTypesUrl","bed_type","title","isEmpty","charge","getCurrentCurrencyClass","addCommas","is_available","prepareTemplateRender","document","on","event","bedId","currentTarget","deleteItem","activeDeActiveStatus","window","method","cache","success","result","reload"],"mappings":"mBAEA,IAAIA,EAAMC,EAAE,YAAYC,UAAU,CAC9BC,YAAY,EACZC,YAAY,EAEZ,MAAS,CAAC,CAAC,EAAG,SACdC,KAAM,CACFC,IAAKC,QAETC,WAAY,CACR,CACIC,QAAS,OACTC,eAAgB,OAEpB,CACI,QAAW,CAAC,GACZ,UAAa,cACb,MAAS,OAEb,CACI,QAAW,CAAC,GACZ,MAAS,MACT,UAAa,cAEjB,CACI,QAAW,CAAC,GACZ,UAAa,cACb,MAAS,MAEb,CACI,QAAW,CAAC,GACZ,WAAa,EACb,UAAa,cACb,MAAS,OAGjBC,QAAS,CACL,CACIC,KAAM,SAAUC,GAEZ,MAAO,aADQN,OAAS,IAAMM,EAAIC,IACF,KAAOD,EAAIE,OAAS,QAExDC,KAAM,UAEV,CACIJ,KAAM,OACNI,KAAM,QAEV,CACIJ,KAAM,SAAUC,GAEZ,MAAO,aADQI,YAAc,IAAMJ,EAAIK,SAASJ,IAChB,KAAOD,EAAIK,SAASC,MAChD,QAERH,KAAM,iBAEV,CACIJ,KAAM,SAAUC,GACZ,OAAQO,QAAQP,EAAIQ,QAEiB,MAFP,yBAC1BC,0BAA4B,IAC5BC,UAAUV,EAAIQ,QAAU,QAEhCL,KAAM,UAEV,CACIJ,KAAM,SAAUC,GACZ,OAAGA,EAAIW,aACI,MAEJ,MAEXR,KAAM,gBAEV,CACIJ,KAAM,SAAUC,GACZ,IAAID,EAAO,CACP,CACI,GAAMC,EAAIC,KAElB,OAAOW,sBAAsB,qBAAsBb,IACpDI,KAAM,SAKrBf,EAAEyB,UAAUC,GAAG,QAAS,eAAe,SAAUC,GAC7C,IAAIC,EAAQ5B,EAAE2B,EAAME,eAAelB,KAAK,MACxCmB,WAAWxB,OAAS,IAAMsB,EAAO,WAAY,UAIjD5B,EAAEyB,UAAUC,GAAG,SAAU,WAAW,SAAUC,GAC1C,IAAIC,EAAQ5B,EAAE2B,EAAME,eAAelB,KAAK,MACxCoB,qBAAqBH,MAIzBI,OAAOD,qBAAuB,SAAUlB,GACpCb,EAAEI,KAAK,CACHC,IAAKC,OAAS,IAAMO,EAAK,mBACzBoB,OAAQ,OACRC,OAAO,EACPC,QAAS,SAAUC,GACXA,EAAOD,SACPpC,EAAIK,KAAKiC,OAAO,MAAM,Q","file":"/assets/js/beds/beds.js","sourcesContent":["'use strict';\n\nlet tbl = $('#bedsTbl').DataTable({\n    processing: true,\n    serverSide: true,\n\n    'order': [[4, 'desc']],\n    ajax: {\n        url: bedUrl,\n    },\n    columnDefs: [\n        {\n            targets: '_all',\n            defaultContent: 'N/A',\n        },\n        {\n            'targets': [0],\n            'className': 'text-center',\n            'width': '10%',\n        },\n        {\n            'targets': [3],\n            'width': '10%',\n            'className': 'text-right',\n        },\n        {\n            'targets': [4],\n            'className': 'text-center',\n            'width': '8%',\n        },\n        {\n            'targets': [5],\n            'orderable': false,\n            'className': 'text-center',\n            'width': '8%',\n        },\n    ],\n    columns: [\n        {\n            data: function (row) {\n                let showLink = bedUrl + '/' + row.id;\n                return '<a href=\"' + showLink + '\">' + row.bed_id + '</a>';\n            },\n            name: 'bed_id',\n        },\n        {\n            data: 'name',\n            name: 'name',\n        },\n        {\n            data: function (row) {\n                let showLink = bedTypesUrl + '/' + row.bed_type.id;\n                return '<a href=\"' + showLink + '\">' + row.bed_type.title +\n                    '</a>';\n            },\n            name: 'bedType.title',\n        },\n        {\n            data: function (row) {\n                return !isEmpty(row.charge) ? '<p class=\"cur-margin\">' +\n                    getCurrentCurrencyClass() + ' ' +\n                    addCommas(row.charge) + '</p>' : 'N/A';\n            },\n            name: 'charge',\n        },\n        {\n            data: function (row) {\n                if(row.is_available){\n                    return 'Yes';\n                }\n                return 'No';\n            },\n            name: 'is_available',\n        },\n        {\n            data: function (row) {\n                let data = [\n                    {\n                        'id': row.id,\n                    }];\n                return prepareTemplateRender('#bedActionTemplate', data);\n            }, name: 'id',\n        },\n    ],\n});\n\n$(document).on('click', '.delete-btn', function (event) {\n    let bedId = $(event.currentTarget).data('id');\n    deleteItem(bedUrl + '/' + bedId, '#bedsTbl', 'Bed');\n});\n\n// status activation deactivation change event\n$(document).on('change', '.status', function (event) {\n    let bedId = $(event.currentTarget).data('id');\n    activeDeActiveStatus(bedId);\n});\n\n// activate de-activate Status\nwindow.activeDeActiveStatus = function (id) {\n    $.ajax({\n        url: bedUrl + '/' + id + '/active-deactive',\n        method: 'post',\n        cache: false,\n        success: function (result) {\n            if (result.success) {\n                tbl.ajax.reload(null, false);\n            }\n        },\n    });\n};\n"],"sourceRoot":""}