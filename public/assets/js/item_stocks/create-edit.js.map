{"version":3,"sources":["webpack:///./resources/assets/js/item_stocks/create-edit.js"],"names":["$","document","ready","select2","width","isEdit","trigger","setTimeout","ext","attr","split","pop","toLowerCase","pdfDocumentImageUrl","docxDocumentImageUrl","on","this","val","ajax","url","itemsUrl","type","dataType","data","id","success","length","empty","removeAttr","each","i","v","append","text","itemId","prop","extension","isValidDocument","isEmpty","displayDocument","window","inputSelector","inArray","UnprocessableInputError"],"mappings":"mBAEAA,EAAEC,UAAUC,OAAM,WAKd,GAJAF,EAAE,yBAAyBG,QAAQ,CAC/BC,MAAO,SAGPC,OAAQ,CACRL,EAAE,gBAAgBM,QAAQ,SAC1BC,YAAW,WACPP,EAAE,iBAAiBM,QAAQ,YAC5B,KAGH,IACIE,EADeR,EAAE,iBAAiBS,KAAK,OACtBC,MAAM,KAAKC,MAAMC,cAC3B,OAAPJ,EACAR,EAAE,iBAAiBS,KAAK,MAAOI,qBAChB,QAAPL,GAA0B,OAAPA,GAC3BR,EAAE,iBACES,KAAK,MAAOK,0BAM5Bd,EAAE,iBAAiBe,GAAG,UAAU,WACN,KAAlBf,EAAEgB,MAAMC,OACRjB,EAAEkB,KAAK,CACHC,IAAKC,SACLC,KAAM,MACNC,SAAU,OACVC,KAAM,CAAEC,GAAIxB,EAAEgB,MAAMC,OACpBQ,QAAS,SAAUF,GACU,IAArBA,EAAKA,KAAKG,QACV1B,EAAE,UAAU2B,QACZ3B,EAAE,UAAU4B,WAAW,YACvB5B,EAAE6B,KAAKN,EAAKA,MAAM,SAAUO,EAAGC,GAC3B/B,EAAE,UACEgC,OAAOhC,EAAE,qBACLS,KAAK,QAASqB,GACdG,KAAKF,OAEb1B,SACAL,EAAE,UAAUiB,IAAIiB,QAAQ5B,QAAQ,kBAChCD,QAAS,IAGbL,EAAE,UAAUmC,KAAK,YAAY,MAI7CnC,EAAE,UAAU2B,QACZ3B,EAAE,UAAUmC,KAAK,YAAY,MAGjCnC,EAAEC,UAAUc,GAAG,SAAU,eAAe,WACpC,IAAIqB,EAAYC,gBAAgBrC,EAAEgB,OAC7BsB,QAAQF,IAA2B,GAAbA,GACvBG,gBAAgBvB,KAAM,gBAAiBoB,MAI/CI,OAAOH,gBAAkB,SAAUI,GAC/B,IAAIjC,EAAMR,EAAEyC,GAAexB,MAAMP,MAAM,KAAKC,MAAMC,cAClD,OAAqE,GAAjEZ,EAAE0C,QAAQlC,EAAK,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAO,UACpDR,EAAEyC,GAAexB,IAAI,IACrB0B,wBAAwB,WACjB,GAEJnC,I","file":"/assets/js/item_stocks/create-edit.js","sourcesContent":["'use strict';\n\n$(document).ready(function () {\n    $('#itemCategory, #items').select2({\n        width: '100%',\n    });\n\n    if (isEdit) {\n        $('.price-input').trigger('input');\n        setTimeout(function () {\n            $('#itemCategory').trigger('change');\n        }, 300);\n\n        // changing the item stock attachment preview on edit item stock\n        const previewSrc = $('#previewImage').attr('src');\n        let ext = previewSrc.split('.').pop().toLowerCase();\n        if (ext == 'pdf') {\n            $('#previewImage').attr('src', pdfDocumentImageUrl);\n        } else if ((ext == 'docx') || (ext == 'doc')) {\n            $('#previewImage').\n                attr('src', docxDocumentImageUrl);\n        }\n    }\n\n});\n\n$('#itemCategory').on('change', function () {\n    if ($(this).val() !== '') {\n        $.ajax({\n            url: itemsUrl,\n            type: 'get',\n            dataType: 'json',\n            data: { id: $(this).val() },\n            success: function (data) {\n                if (data.data.length !== 0) {\n                    $('#items').empty();\n                    $('#items').removeAttr('disabled');\n                    $.each(data.data, function (i, v) {\n                        $('#items').\n                            append($('<option></option>').\n                                attr('value', i).\n                                text(v));\n                    });\n                    if (isEdit) {\n                        $('#items').val(itemId).trigger('change.select2');\n                        isEdit = false;\n                    }\n                } else\n                    $('#items').prop('disabled', true);\n            },\n        });\n    }\n    $('#items').empty();\n    $('#items').prop('disabled', true);\n});\n\n$(document).on('change', '#attachment', function () {\n    let extension = isValidDocument($(this));\n    if (!isEmpty(extension) && extension != false) {\n        displayDocument(this, '#previewImage', extension);\n    }\n});\n\nwindow.isValidDocument = function (inputSelector) {\n    let ext = $(inputSelector).val().split('.').pop().toLowerCase();\n    if ($.inArray(ext, ['png', 'jpg', 'jpeg', 'pdf', 'doc', 'docx']) == -1) {\n        $(inputSelector).val('');\n        UnprocessableInputError('result');\n        return false;\n    }\n    return ext;\n};\n"],"sourceRoot":""}