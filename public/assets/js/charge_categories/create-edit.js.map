{"version":3,"sources":["webpack:///./resources/assets/js/charge_categories/create-edit.js"],"names":["$","document","ready","select2","width","on","event","preventDefault","loadingButton","jQuery","this","find","button","ajax","url","chargeCategoryCreateUrl","type","data","serialize","success","result","displaySuccessMessage","message","modal","DataTable","reload","error","printErrorMessage","complete","ajaxCallIsRunning","ajaxCallInProgress","chargeTypeId","currentTarget","renderData","window","id","chargeCategoryUrl","val","name","charge_type","trigger","description","ajaxCallCompleted","manageAjaxErrors","UnprocessableInputError","resetModalForm"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WACd,aAEAF,EAAE,mCAAmCG,QAAQ,CACzCC,MAAO,SAGXJ,EAAEC,UAAUI,GAAG,SAAU,eAAe,SAAUC,GAC9CA,EAAMC,iBACN,IAAIC,EAAgBC,OAAOC,MAAMC,KAAK,YACtCH,EAAcI,OAAO,WACrBZ,EAAEa,KAAK,CACHC,IAAKC,wBACLC,KAAM,OACNC,KAAMjB,EAAEU,MAAMQ,YACdC,QAAS,SAAUC,GACXA,EAAOD,UACPE,sBAAsBD,EAAOE,SAC7BtB,EAAE,aAAauB,MAAM,QACrBvB,EAAE,wBAAwBwB,YAAYX,KAAKY,OAAO,MAAM,KAGhEC,MAAO,SAAUN,GACbO,kBAAkB,uBAAwBP,IAE9CQ,SAAU,WACNpB,EAAcI,OAAO,eAKjCZ,EAAEC,UAAUI,GAAG,QAAS,aAAa,SAAUC,GAC3C,IAAIuB,kBAAJ,CAGAC,qBACA,IAAIC,EAAe/B,EAAEM,EAAM0B,eAAef,KAAK,MAC/CgB,WAAWF,OAGfG,OAAOD,WAAa,SAAUE,GAC1BnC,EAAEa,KAAK,CACHC,IAAKsB,kBAAoB,IAAMD,EAAK,QACpCnB,KAAM,MACNG,QAAS,SAAUC,GACXA,EAAOD,UACPnB,EAAE,qBAAqBqC,IAAIjB,EAAOH,KAAKkB,IACvCnC,EAAE,aAAaqC,IAAIjB,EAAOH,KAAKqB,MAC/BtC,EAAE,qBAAqBqC,IAAIjB,EAAOH,KAAKsB,aAAaC,QAAQ,kBAC5DxC,EAAE,oBAAoBqC,IAAIjB,EAAOH,KAAKwB,aACtCzC,EAAE,cAAcuB,MAAM,QACtBmB,sBAGRhB,MAAO,SAAUN,GACbuB,iBAAiBvB,OAK7BpB,EAAEC,UAAUI,GAAG,SAAU,aAAa,SAAUC,GAC5CA,EAAMC,iBACN,IAAIC,EAAgBC,OAAOC,MAAMC,KAAK,gBACtCH,EAAcI,OAAO,WACrB,IAAIuB,EAAKnC,EAAE,qBAAqBqC,MAChCrC,EAAEa,KAAK,CACHC,IAAKsB,kBAAoB,IAAMD,EAC/BnB,KAAM,QACNC,KAAMjB,EAAEU,MAAMQ,YACdC,QAAS,SAAUC,GACXA,EAAOD,UACPE,sBAAsBD,EAAOE,SAC7BtB,EAAE,cAAcuB,MAAM,QACtBvB,EAAE,wBAAwBwB,YAAYX,KAAKY,OAAO,MAAM,KAGhEC,MAAO,SAAUN,GACbwB,wBAAwBxB,IAE5BQ,SAAU,WACNpB,EAAcI,OAAO,eAKjCZ,EAAE,aAAaK,GAAG,mBAAmB,WACjCwC,eAAe,cAAe,wBAC9B7C,EAAE,iBAAiBqC,IAAI,IAAIG,QAAQ,qBAGvCxC,EAAE,cAAcK,GAAG,mBAAmB,WAClCwC,eAAe,YAAa,4BAC5B7C,EAAE,qBAAqBqC,IAAI,IAAIG,QAAQ","file":"/assets/js/charge_categories/create-edit.js","sourcesContent":["$(document).ready(function () {\n    'use strict';\n\n    $('#chargeTypeId,#editChargeTypeId').select2({\n        width: '100%',\n    });\n\n    $(document).on('submit', '#addNewForm', function (event) {\n        event.preventDefault();\n        var loadingButton = jQuery(this).find('#btnSave');\n        loadingButton.button('loading');\n        $.ajax({\n            url: chargeCategoryCreateUrl,\n            type: 'POST',\n            data: $(this).serialize(),\n            success: function (result) {\n                if (result.success) {\n                    displaySuccessMessage(result.message);\n                    $('#addModal').modal('hide');\n                    $('#chargeCategoriesTbl').DataTable().ajax.reload(null, false);\n                }\n            },\n            error: function (result) {\n                printErrorMessage('#validationErrorsBox', result);\n            },\n            complete: function () {\n                loadingButton.button('reset');\n            },\n        });\n    });\n\n    $(document).on('click', '.edit-btn', function (event) {\n        if (ajaxCallIsRunning) {\n            return;\n        }\n        ajaxCallInProgress();\n        let chargeTypeId = $(event.currentTarget).data('id');\n        renderData(chargeTypeId);\n    });\n\n    window.renderData = function (id) {\n        $.ajax({\n            url: chargeCategoryUrl + '/' + id + '/edit',\n            type: 'GET',\n            success: function (result) {\n                if (result.success) {\n                    $('#chargeCategoryId').val(result.data.id);\n                    $('#editName').val(result.data.name);\n                    $('#editChargeTypeId').val(result.data.charge_type).trigger('change.select2');\n                    $('#editDescription').val(result.data.description);\n                    $('#editModal').modal('show');\n                    ajaxCallCompleted();\n                }\n            },\n            error: function (result) {\n                manageAjaxErrors(result);\n            },\n        });\n    };\n\n    $(document).on('submit', '#editForm', function (event) {\n        event.preventDefault();\n        var loadingButton = jQuery(this).find('#btnEditSave');\n        loadingButton.button('loading');\n        let id = $('#chargeCategoryId').val();\n        $.ajax({\n            url: chargeCategoryUrl + '/' + id,\n            type: 'patch',\n            data: $(this).serialize(),\n            success: function (result) {\n                if (result.success) {\n                    displaySuccessMessage(result.message);\n                    $('#editModal').modal('hide');\n                    $('#chargeCategoriesTbl').DataTable().ajax.reload(null, false);\n                }\n            },\n            error: function (result) {\n                UnprocessableInputError(result);\n            },\n            complete: function () {\n                loadingButton.button('reset');\n            },\n        });\n    });\n\n    $('#addModal').on('hidden.bs.modal', function () {\n        resetModalForm('#addNewForm', '#validationErrorsBox');\n        $('#chargeTypeId').val('').trigger('change.select2');\n    });\n\n    $('#editModal').on('hidden.bs.modal', function () {\n        resetModalForm('#editForm', '#editValidationErrorsBox');\n        $('#editChargeTypeId').val('').trigger('change.select2');\n    });\n});\n"],"sourceRoot":""}