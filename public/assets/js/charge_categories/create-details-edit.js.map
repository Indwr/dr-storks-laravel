{"version":3,"sources":["webpack:///./resources/assets/js/charge_categories/create-details-edit.js"],"names":["$","document","ready","select2","width","on","event","ajaxCallIsRunning","ajaxCallInProgress","chargeTypeId","currentTarget","data","renderData","window","id","ajax","url","chargeCategoryUrl","type","success","result","val","name","charge_type","trigger","description","modal","ajaxCallCompleted","error","manageAjaxErrors","preventDefault","loadingButton","jQuery","this","find","button","serialize","displaySuccessMessage","message","setTimeout","location","reload","UnprocessableInputError","complete","resetModalForm"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WACd,aAEAF,EAAE,mCAAmCG,QAAQ,CACzCC,MAAO,SAGXJ,EAAEC,UAAUI,GAAG,QAAS,aAAa,SAAUC,GAC3C,IAAIC,kBAAJ,CAGAC,qBACA,IAAIC,EAAeT,EAAEM,EAAMI,eAAeC,KAAK,MAC/CC,WAAWH,OAGfI,OAAOD,WAAa,SAAUE,GAC1Bd,EAAEe,KAAK,CACHC,IAAKC,kBAAoB,IAAMH,EAAK,QACpCI,KAAM,MACNC,QAAS,SAAUC,GACXA,EAAOD,UACPnB,EAAE,qBAAqBqB,IAAID,EAAOT,KAAKG,IACvCd,EAAE,aAAaqB,IAAID,EAAOT,KAAKW,MAC/BtB,EAAE,qBACEqB,IAAID,EAAOT,KAAKY,aAChBC,QAAQ,kBACZxB,EAAE,oBAAoBqB,IAAID,EAAOT,KAAKc,aACtCzB,EAAE,cAAc0B,MAAM,QACtBC,sBAGRC,MAAO,SAAUR,GACbS,iBAAiBT,OAK7BpB,EAAEC,UAAUI,GAAG,SAAU,aAAa,SAAUC,GAC5CA,EAAMwB,iBACN,IAAIC,EAAgBC,OAAOC,MAAMC,KAAK,gBACtCH,EAAcI,OAAO,WACrB,IAAIrB,EAAKd,EAAE,qBAAqBqB,MAChCrB,EAAEe,KAAK,CACHC,IAAKC,kBAAoB,IAAMH,EAC/BI,KAAM,QACNP,KAAMX,EAAEiC,MAAMG,YACdjB,QAAS,SAAUC,GACXA,EAAOD,UACPkB,sBAAsBjB,EAAOkB,SAC7BtC,EAAE,cAAc0B,MAAM,QACtBa,YAAW,WACP1B,OAAO2B,SAASC,WACjB,OAGXb,MAAO,SAAUR,GACbsB,wBAAwBtB,IAE5BuB,SAAU,WACNZ,EAAcI,OAAO,eAKjCnC,EAAE,cAAcK,GAAG,mBAAmB,WAClCuC,eAAe,YAAa,4BAC5B5C,EAAE,qBAAqBqB,IAAI,IAAIG,QAAQ","file":"/assets/js/charge_categories/create-details-edit.js","sourcesContent":["$(document).ready(function () {\n    'use strict';\n\n    $('#chargeTypeId,#editChargeTypeId').select2({\n        width: '100%',\n    });\n\n    $(document).on('click', '.edit-btn', function (event) {\n        if (ajaxCallIsRunning) {\n            return;\n        }\n        ajaxCallInProgress();\n        let chargeTypeId = $(event.currentTarget).data('id');\n        renderData(chargeTypeId);\n    });\n\n    window.renderData = function (id) {\n        $.ajax({\n            url: chargeCategoryUrl + '/' + id + '/edit',\n            type: 'GET',\n            success: function (result) {\n                if (result.success) {\n                    $('#chargeCategoryId').val(result.data.id);\n                    $('#editName').val(result.data.name);\n                    $('#editChargeTypeId').\n                        val(result.data.charge_type).\n                        trigger('change.select2');\n                    $('#editDescription').val(result.data.description);\n                    $('#editModal').modal('show');\n                    ajaxCallCompleted();\n                }\n            },\n            error: function (result) {\n                manageAjaxErrors(result);\n            },\n        });\n    };\n\n    $(document).on('submit', '#editForm', function (event) {\n        event.preventDefault();\n        var loadingButton = jQuery(this).find('#btnEditSave');\n        loadingButton.button('loading');\n        let id = $('#chargeCategoryId').val();\n        $.ajax({\n            url: chargeCategoryUrl + '/' + id,\n            type: 'patch',\n            data: $(this).serialize(),\n            success: function (result) {\n                if (result.success) {\n                    displaySuccessMessage(result.message);\n                    $('#editModal').modal('hide');\n                    setTimeout(function () {\n                        window.location.reload();\n                    }, 3000);\n                }\n            },\n            error: function (result) {\n                UnprocessableInputError(result);\n            },\n            complete: function () {\n                loadingButton.button('reset');\n            },\n        });\n    });\n\n    $('#editModal').on('hidden.bs.modal', function () {\n        resetModalForm('#editForm', '#editValidationErrorsBox');\n        $('#editChargeTypeId').val('').trigger('change.select2');\n    });\n});\n"],"sourceRoot":""}