{"version":3,"sources":["webpack:///./resources/assets/js/opd_patients/opd_patients.js"],"names":["tableName","$","DataTable","processing","serverSide","ajax","url","opdPatientUrl","columnDefs","targets","defaultContent","columns","data","row","patientUrl","patient_id","patient","user","full_name","name","id","opd_number","doctorUrl","doctor","first_name","render","appointment_date","moment","format","getCurrentCurrencyClass","addCommas","standard_charge","prepareTemplateRender","document","on","event","opdPatientId","currentTarget","deleteItem"],"mappings":"mBAEA,IAAIA,EAAY,8BAChBC,EAAED,GAAWE,UAAU,CACnBC,YAAY,EACZC,YAAY,EACZ,MAAS,CAAC,CAAC,EAAG,SACdC,KAAM,CACFC,IAAKC,eAETC,WAAY,CACR,CACI,QAAW,CAAC,GACZ,UAAa,cAEjB,CACI,QAAW,CAAC,GACZ,UAAa,cACb,MAAS,OAEb,CACI,QAAW,CAAC,GACZ,WAAa,EACb,UAAa,cACb,MAAS,MAEb,CACIC,QAAS,OACTC,eAAgB,QAGxBC,QAAS,CACL,CACIC,KAAM,SAAUC,GAEZ,MAAO,aADQC,WAAa,IAAMD,EAAIE,YACN,KAC5BF,EAAIG,QAAQC,KAAKC,UACjB,QAERC,KAAM,2BAEV,CACIP,KAAM,SAAUC,GAEZ,MAAO,aADQN,cAAgB,IAAMM,EAAIO,IACT,KAAOP,EAAIQ,WACvC,QAERF,KAAM,cAEV,CACIP,KAAM,SAAUC,GAEZ,MAAO,aADQS,UAAY,IAAMT,EAAIU,OAAOH,IACZ,KAC5BP,EAAIU,OAAON,KAAKO,WAChB,QAERL,KAAM,0BAEV,CACIP,KAAM,SAAUC,GACZ,OAAOA,GAEXY,OAAQ,SAAUZ,GACd,OAA6B,OAAzBA,EAAIa,iBACG,MAGJC,OAAOd,EAAIa,kBAAkBE,OAAO,qBAE/CT,KAAM,oBAEV,CACIP,KAAM,SAAUC,GACZ,OAAOgB,0BACHC,UAAUjB,EAAIkB,kBAEtBZ,KAAM,mBAEV,CACIP,KAAM,oBACNO,KAAM,gBAEV,CACIP,KAAM,qBACNO,KAAM,sBAEV,CACIP,KAAM,SACNO,KAAM,MAEV,CACIP,KAAM,SAAUC,GACZ,IAAID,EAAO,CACP,CACI,GAAMC,EAAIO,KAElB,OAAOY,sBAAsB,4BAA6BpB,IAC3DO,KAAM,6BAKrBlB,EAAEgC,UAAUC,GAAG,QAAS,eAAe,SAAUC,GAC7C,IAAIC,EAAenC,EAAEkC,EAAME,eAAezB,KAAK,MAC/C0B,WAAW/B,cAAgB,IAAM6B,EAAcpC,EAAW,mB","file":"/assets/js/opd_patients/opd_patients.js","sourcesContent":["'use strict';\n\nlet tableName = '#opdPatientDepartmentsTable';\n$(tableName).DataTable({\n    processing: true,\n    serverSide: true,\n    'order': [[0, 'desc']],\n    ajax: {\n        url: opdPatientUrl,\n    },\n    columnDefs: [\n        {\n            'targets': [4],\n            'className': 'text-right',\n        },\n        {\n            'targets': [7],\n            'className': 'text-center',\n            'width': '10%',\n        },\n        {\n            'targets': [8],\n            'orderable': false,\n            'className': 'text-center',\n            'width': '6%',\n        },\n        {\n            targets: '_all',\n            defaultContent: 'N/A',\n        },\n    ],\n    columns: [\n        {\n            data: function (row) {\n                let showLink = patientUrl + '/' + row.patient_id;\n                return '<a href=\"' + showLink + '\">' +\n                    row.patient.user.full_name +\n                    '</a>';\n            },\n            name: 'patient.user.first_name',\n        },\n        {\n            data: function (row) {\n                let showLink = opdPatientUrl + '/' + row.id;\n                return '<a href=\"' + showLink + '\">' + row.opd_number +\n                    '</a>';\n            },\n            name: 'opd_number',\n        },\n        {\n            data: function (row) {\n                let showLink = doctorUrl + '/' + row.doctor.id;\n                return '<a href=\"' + showLink + '\">' +\n                    row.doctor.user.first_name +\n                    '</a>';\n            },\n            name: 'doctor.user.first_name',\n        },\n        {\n            data: function (row) {\n                return row;\n            },\n            render: function (row) {\n                if (row.appointment_date === null) {\n                    return 'N/A';\n                }\n\n                return moment(row.appointment_date).format('Do MMM, Y h:mm A');\n            },\n            name: 'appointment_date',\n        },\n        {\n            data: function (row) {\n                return getCurrentCurrencyClass() +\n                    addCommas(row.standard_charge);\n            },\n            name: 'standard_charge',\n        },\n        {\n            data: 'payment_mode_name',\n            name: 'payment_mode',\n        },\n        {\n            data: 'patient.user.phone',\n            name: 'patient.user.phone',\n        },\n        {\n            data: 'visits',\n            name: 'id',\n        },\n        {\n            data: function (row) {\n                let data = [\n                    {\n                        'id': row.id,\n                    }];\n                return prepareTemplateRender('#opdPatientActionTemplate', data);\n            }, name: 'patient.user.last_name',\n        },\n    ],\n});\n\n$(document).on('click', '.delete-btn', function (event) {\n    let opdPatientId = $(event.currentTarget).data('id');\n    deleteItem(opdPatientUrl + '/' + opdPatientId, tableName, 'OPD Patient');\n});\n"],"sourceRoot":""}