{"version":3,"sources":["webpack:///./resources/assets/js/settings/setting.js"],"names":["tableName","tbl","$","DataTable","processing","serverSide","ajax","url","moduleUrl","data","status","find","val","columnDefs","targets","defaultContent","columns","name","row","checked","is_active","id","prepareTemplateRender","change","reload","document","ready","select2","width","selectpicker","on","addClass","isValidLogo","this","displayLogo","submit","text","focus","event","moduleId","currentTarget","updateStatus","window","method","cache","success","result","inputSelector","validationMessageSelector","ext","split","pop","toLowerCase","inArray","removeClass","html","show","hide","input","selector","displayPreview","files","reader","FileReader","onload","e","image","Image","src","target","height","imageValidation","attr","readAsDataURL"],"mappings":"mBACA,IAAIA,EAAY,cACZC,EAAMC,EAAEF,GAAWG,UAAU,CAC7BC,YAAY,EACZC,YAAY,EACZ,MAAS,CAAC,CAAC,EAAG,QACdC,KAAM,CACFC,IAAKC,UACLC,KAAM,SAAUA,GACZA,EAAKC,OAASR,EAAE,kBACZS,KAAK,mBACLC,QAGZC,WAAY,CACR,CACIC,QAAS,OACTC,eAAgB,OAEpB,CACI,QAAW,CAAC,GACZ,UAAa,cACb,WAAa,EACb,MAAS,OAGjBC,QAAS,CACL,CACIP,KAAM,OACNQ,KAAM,QAEV,CACIR,KAAM,SAAUS,GACZ,IAAIC,EAA2B,GAAjBD,EAAIE,UAAiB,GAAK,UACpCX,EAAO,CAAC,CAAE,GAAMS,EAAIG,GAAI,QAAWF,IACvC,OAAOG,sBAAsB,wBAAyBb,IAE1DQ,KAAM,cAGd,eAAkB,WACdf,EAAE,kBAAkBqB,QAAO,WACvBrB,EAAEF,GAAWG,YAAYG,KAAKkB,OAAO,MAAM,SAIvDtB,EAAEuB,UAAUC,OAAM,WACdxB,EAAE,iBAAiByB,QAAQ,CACvBC,MAAO,SAEX1B,EAAE,aAAa2B,kBAInB3B,EAAEuB,UAAUK,GAAG,SAAU,YAAY,WACjC5B,EAAE,wBAAwB6B,SAAS,UAC/BC,YAAY9B,EAAE+B,MAAO,yBACrBC,YAAYD,KAAM,oBAI1B/B,EAAE,kBAAkBiC,QAAO,WACvB,GAA+B,KAA3BjC,EAAE,cAAckC,OAEhB,OADAlC,EAAE,gBAAgBmC,SACX,KAGfnC,EAAEuB,UAAUK,GAAG,SAAU,WAAW,SAAUQ,GAC1C,IAAIC,EAAWrC,EAAEoC,EAAME,eAAe/B,KAAK,MAC3CgC,aAAaF,MAGjBG,OAAOD,aAAe,SAAUpB,GAC5BnB,EAAEI,KAAK,CACHC,IAAKC,UAAY,IAAMa,EAAK,mBAC5BsB,OAAQ,OACRC,OAAO,EACPC,QAAS,SAAUC,GACXA,EAAOD,SACP5C,EAAIK,KAAKkB,OAAO,MAAM,OAMtCkB,OAAOV,YAAc,SAAUe,EAAeC,GAC1C,IAAIC,EAAM/C,EAAE6C,GAAenC,MAAMsC,MAAM,KAAKC,MAAMC,cAClD,OAA+C,GAA3ClD,EAAEmD,QAAQJ,EAAK,CAAC,MAAO,MAAO,UAC9B/C,EAAE6C,GAAenC,IAAI,IACrBV,EAAE8C,GAA2BM,YAAY,UACzCpD,EAAE8C,GACEO,KAAK,qDACLC,QACG,IAEXtD,EAAE8C,GAA2BS,QACtB,IAGXf,OAAOR,YAAc,SAAUwB,EAAOC,GAClC,IAAIC,GAAiB,EACrB,GAAIF,EAAMG,OAASH,EAAMG,MAAM,GAAI,CAC/B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUC,GACtB,IAAIC,EAAQ,IAAIC,MAChBD,EAAME,IAAMH,EAAEI,OAAOvB,OACrBoB,EAAMF,OAAS,WACX,GAAoB,IAAhBE,EAAMI,QAA+B,IAAfJ,EAAMtC,MAM5B,OALA1B,EAAEyD,GAAU/C,IAAI,IAChBV,EAAE,wBAAwBoD,YAAY,UACtCpD,EAAE,wBACEqD,KAAKgB,iBACLf,QACG,EAEXtD,EAAEyD,GAAUa,KAAK,MAAOP,EAAEI,OAAOvB,QACjCc,GAAiB,IAGrBA,IACAE,EAAOW,cAAcf,EAAMG,MAAM,IACjC3D,EAAEyD,GAAUH,W","file":"/assets/js/settings/setting.js","sourcesContent":["'use strict';\nlet tableName = '#modulesTbl';\nlet tbl = $(tableName).DataTable({\n    processing: true,\n    serverSide: true,\n    'order': [[0, 'asc']],\n    ajax: {\n        url: moduleUrl,\n        data: function (data) {\n            data.status = $('#filter_status').\n                find('option:selected').\n                val();\n        },\n    },\n    columnDefs: [\n        {\n            targets: '_all',\n            defaultContent: 'N/A',\n        },\n        {\n            'targets': [1],\n            'className': 'text-center',\n            'orderable': false,\n            'width': '5%',\n        },\n    ],\n    columns: [\n        {\n            data: 'name',\n            name: 'name',\n        },\n        {\n            data: function (row) {\n                let checked = row.is_active == 0 ? '' : 'checked';\n                let data = [{ 'id': row.id, 'checked': checked }];\n                return prepareTemplateRender('#moduleStatusTemplate', data);\n            },\n            name: 'is_active',\n        },\n    ],\n    'fnInitComplete': function () {\n        $('#filter_status').change(function () {\n            $(tableName).DataTable().ajax.reload(null, true);\n        });\n    },\n});\n$(document).ready(function () {\n    $('#currencyType').select2({\n        width: '100%',\n    });\n    $('#mySelect').selectpicker();\n\n});\n\n$(document).on('change', '#appLogo', function () {\n    $('#validationErrorsBox').addClass('d-none');\n    if (isValidLogo($(this), '#validationErrorsBox')) {\n        displayLogo(this, '#previewImage');\n    }\n});\n\n$('#createSetting').submit(function () {\n    if ($('#error-msg').text() !== '') {\n        $('#phoneNumber').focus();\n        return false;\n    }\n});\n$(document).on('change', '.status', function (event) {\n    let moduleId = $(event.currentTarget).data('id');\n    updateStatus(moduleId);\n});\n\nwindow.updateStatus = function (id) {\n    $.ajax({\n        url: moduleUrl + '/' + id + '/active-deactive',\n        method: 'post',\n        cache: false,\n        success: function (result) {\n            if (result.success) {\n                tbl.ajax.reload(null, false);\n            }\n        },\n    });\n};\n\nwindow.isValidLogo = function (inputSelector, validationMessageSelector) {\n    let ext = $(inputSelector).val().split('.').pop().toLowerCase();\n    if ($.inArray(ext, ['jpg', 'png', 'jpeg']) == -1) {\n        $(inputSelector).val('');\n        $(validationMessageSelector).removeClass('d-none');\n        $(validationMessageSelector).\n            html('The image must be a file of type: jpg, jpeg, png.').\n            show();\n        return false;\n    }\n    $(validationMessageSelector).hide();\n    return true;\n};\n\nwindow.displayLogo = function (input, selector) {\n    let displayPreview = true;\n    if (input.files && input.files[0]) {\n        let reader = new FileReader();\n        reader.onload = function (e) {\n            let image = new Image();\n            image.src = e.target.result;\n            image.onload = function () {\n                if (image.height != 60 && image.width != 90) {\n                    $(selector).val('');\n                    $('#validationErrorsBox').removeClass('d-none');\n                    $('#validationErrorsBox').\n                        html(imageValidation).\n                        show();\n                    return false;\n                }\n                $(selector).attr('src', e.target.result);\n                displayPreview = true;\n            };\n        };\n        if (displayPreview) {\n            reader.readAsDataURL(input.files[0]);\n            $(selector).show();\n        }\n    }\n};\n"],"sourceRoot":""}