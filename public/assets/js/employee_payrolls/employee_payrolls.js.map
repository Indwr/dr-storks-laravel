{"version":3,"sources":["webpack:///./resources/assets/js/employee_payrolls/employee_payrolls.js"],"names":["$","DataTable","processing","serverSide","ajax","url","employeePayrollUrl","data","status","find","val","columnDefs","targets","defaultContent","columns","name","row","id","payroll_id","owner","user","full_name","isEmpty","net_salary","getCurrentCurrencyClass","addCommas","editLink","editMessage","deleteMessage","change","reload","document","on","event","employeePayrollId","currentTarget","deleteItem"],"mappings":"mBAEUA,EAAE,0BAA0BC,UAAU,CAC5CC,YAAY,EACZC,YAAY,EACZ,MAAS,CAAC,CAAC,EAAG,OAAQ,CAAC,EAAG,QAC1BC,KAAM,CACFC,IAAKC,mBACLC,KAAM,SAAUA,GACZA,EAAKC,OAASR,EAAE,kBACZS,KAAK,mBACLC,QAGZC,WAAY,CACR,CACI,QAAW,CAAC,GACZ,UAAa,cACb,MAAS,OAEb,CACI,QAAW,CAAC,GACZ,UAAa,cACb,MAAS,OAEb,CACI,QAAW,CAAC,GACZ,WAAa,EACb,UAAa,cACb,MAAS,MAEb,CACIC,QAAS,OACTC,eAAgB,OAEpB,CACI,QAAW,CAAC,GACZ,UAAa,cAEjB,CACI,QAAW,CAAC,GACZ,UAAa,eAGrBC,QAAS,CACL,CACIP,KAAM,QACNQ,KAAM,SAEV,CACIR,KAAM,SAAUS,GAEZ,MAAO,aADQV,mBAAqB,IAAMU,EAAIC,IACd,KAAOD,EAAIE,WAAa,QAE5DH,KAAM,cAEV,CACIR,KAAM,SAAUS,GACZ,OAAOA,EAAIG,MAAMC,KAAKC,WAE1BN,KAAM,cAEV,CACIR,KAAM,QACNQ,KAAM,SAEV,CACIR,KAAM,OACNQ,KAAM,QAEV,CACIR,KAAM,SAAUS,GACZ,OAAQM,QAAQN,EAAIO,YAGd,MAH4B,yBAC9BC,0BAA4B,IAC5BC,UAAUT,EAAIO,YAAc,QAGpCR,KAAM,cAEV,CACIR,KAAM,SAAUS,GACZ,OAAkB,GAAdA,EAAIR,OACG,OAEA,UACZO,KAAM,UAEb,CACIR,KAAM,SAAUS,GACZ,IAAIU,EAAWpB,mBAAqB,IAAMU,EAAIC,GAAK,QACnD,MAAO,aAAeU,YAAc,mEAChCD,EADG,0DAKYE,cAAgB,kEAC/BZ,EAAIC,GAND,6DAQRF,KAAM,OAGjB,eAAkB,WACdf,EAAE,kBAAkB6B,QAAO,WACvB7B,EAtGI,0BAsGSC,YAAYG,KAAK0B,OAAO,MAAM,SAKvD9B,EAAE+B,UAAUC,GAAG,QAAS,eAAe,SAAUC,GAC7C,IAAIC,EAAoBlC,EAAEiC,EAAME,eAAe5B,KAAK,MACpD6B,WACI9B,mBAAqB,IAAM4B,EAC3B,yBACA,wB","file":"/assets/js/employee_payrolls/employee_payrolls.js","sourcesContent":["'use strict';\nlet tableName = '#employeePayrollsTable';\nlet tbl = $('#employeePayrollsTable').DataTable({\n    processing: true,\n    serverSide: true,\n    'order': [[0, 'asc'], [2, 'asc']],\n    ajax: {\n        url: employeePayrollUrl,\n        data: function (data) {\n            data.status = $('#filter_status').\n                find('option:selected').\n                val();\n        },\n    },\n    columnDefs: [\n        {\n            'targets': [0],\n            'className': 'text-center',\n            'width': '10%',\n        },\n        {\n            'targets': [1],\n            'className': 'text-center',\n            'width': '10%',\n        },\n        {\n            'targets': [7],\n            'orderable': false,\n            'className': 'text-center',\n            'width': '8%',\n        },\n        {\n            targets: '_all',\n            defaultContent: 'N/A',\n        },\n        {\n            'targets': [4],\n            'className': 'text-right',\n        },\n        {\n            'targets': [5],\n            'className': 'text-right',\n        },\n    ],\n    columns: [\n        {\n            data: 'sr_no',\n            name: 'sr_no',\n        },\n        {\n            data: function (row) {\n                let showLink = employeePayrollUrl + '/' + row.id;\n                return '<a href=\"' + showLink + '\">' + row.payroll_id + '</a>';\n            },\n            name: 'payroll_id',\n        },\n        {\n            data: function (row) {\n                return row.owner.user.full_name;\n            },\n            name: 'payroll_id',\n        },\n        {\n            data: 'month',\n            name: 'month',\n        },\n        {\n            data: 'year',\n            name: 'year',\n        },\n        {\n            data: function (row) {\n                return !isEmpty(row.net_salary) ? '<p class=\"cur-margin\">' +\n                    getCurrentCurrencyClass() + ' ' +\n                    addCommas(row.net_salary) + '</p>'\n                    : 'N/A';\n            },\n            name: 'net_salary',\n        },\n        {\n            data: function (row) {\n                if (row.status == 1)\n                    return 'Paid';\n                else\n                    return 'Unpaid';\n            }, name: 'status',\n        },\n        {\n            data: function (row) {\n                let editLink = employeePayrollUrl + '/' + row.id + '/edit';\n                return '<a title=\"' + editMessage + '\" class=\"btn action-btn btn-success btn-sm edit-btn mr-1\" href=\"' +\n                    editLink + '\">'\n                    +\n                    '<i class=\"fa fa-edit  action-icon\"></i>' +\n                    '</a>' +\n                    '<a title=\"' + deleteMessage + '\" class=\"btn action-btn btn-danger btn-sm delete-btn\" data-id=\"' +\n                    row.id + '\">' +\n                    '<i class=\"fa fa-trash action-icon text-danger\"></i></a>';\n            }, name: 'id',\n        },\n    ],\n    'fnInitComplete': function () {\n        $('#filter_status').change(function () {\n            $(tableName).DataTable().ajax.reload(null, true);\n        });\n    },\n});\n\n$(document).on('click', '.delete-btn', function (event) {\n    let employeePayrollId = $(event.currentTarget).data('id');\n    deleteItem(\n        employeePayrollUrl + '/' + employeePayrollId,\n        '#employeePayrollsTable',\n        'Employee Payroll'\n    );\n});\n\n"],"sourceRoot":""}