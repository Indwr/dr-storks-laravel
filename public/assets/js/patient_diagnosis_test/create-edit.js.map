{"version":3,"sources":["webpack:///./resources/assets/js/patient_diagnosis_test/create-edit.js"],"names":["$","document","ready","resetPatientDiagnosisTestIndex","index","each","this","find","text","select2","on","data","patientDiagnosisTestHtml","prepareTemplateRender","append","uniqueId","parents","remove","event","preventDefault","screenLock","loadingButton","jQuery","button","formData","FormData","ajax","url","patientDiagnosisTestSaveUrl","type","dataType","processData","contentType","success","result","displaySuccessMessage","message","window","location","href","patientDiagnosisTest","error","printErrorMessage","complete","screenUnLock"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WACd,aAqBA,SAASC,IACL,IAAIC,EAAQ,EACZJ,EAAE,gCAAgCK,MAAK,WACnCL,EAAEM,MAAMC,KAAK,gBAAgBC,KAAKJ,GAClCA,OAvBRJ,EAAE,uCAAuCS,UAEzCT,EAAEC,UAAUS,GAAG,QAAS,YAAY,WAChC,IAAIC,EAAO,CACP,UAEAC,EAA2BC,sBAC3B,gCAAiCF,GACrCX,EAAE,6BAA6Bc,OAAOF,GACtCG,WAEAZ,OAGJH,EAAEC,UAAUS,GAAG,QAAS,qBAAqB,WACzCV,EAAEM,MAAMU,QAAQ,MAAMC,SACtBd,OAWJH,EAAE,6BAA6BU,GAAG,UAAU,SAAUQ,GAClDA,EAAMC,iBACNC,aACA,IAAIC,EAAgBC,OAAOhB,MAAMC,KAAK,YACtCc,EAAcE,OAAO,WACrB,IAAIC,EAAW,IAAIC,SAASzB,EAAEM,MAAM,IACpCN,EAAE0B,KAAK,CACHC,IAAKC,4BACLC,KAAM,OACNC,SAAU,OACVnB,KAAMa,EACNO,aAAa,EACbC,aAAa,EACbC,QAAS,SAAUC,GACfC,sBAAsBD,EAAOE,SAC7BC,OAAOC,SAASC,KAAOC,sBAE3BC,MAAO,SAAUP,GACbQ,kBAAkB,uBAAwBR,IAE9CS,SAAU,WACNC,eACAvB,EAAcE,OAAO","file":"/assets/js/patient_diagnosis_test/create-edit.js","sourcesContent":["$(document).ready(function () {\n    'use strict';\n\n    $('#patient_id,#doctor_id,#category_id').select2();\n\n    $(document).on('click', '#addItem', function () {\n        let data = {\n            'uniqueId': uniqueId,\n        };\n        let patientDiagnosisTestHtml = prepareTemplateRender(\n            '#patientDiagnosisTestTemplate', data);\n        $('.diagnosis-item-container').append(patientDiagnosisTestHtml);\n        uniqueId++;\n\n        resetPatientDiagnosisTestIndex();\n    });\n\n    $(document).on('click', '.delete-diagnosis', function () {\n        $(this).parents('tr').remove();\n        resetPatientDiagnosisTestIndex();\n    });\n\n    function resetPatientDiagnosisTestIndex () {\n        let index = 1;\n        $('.diagnosis-item-container>tr').each(function () {\n            $(this).find('.item-number').text(index);\n            index++;\n        });\n    }\n\n    $('#patientDiagnosisTestForm').on('submit', function (event) {\n        event.preventDefault();\n        screenLock();\n        let loadingButton = jQuery(this).find('#saveBtn');\n        loadingButton.button('loading');\n        let formData = new FormData($(this)[0]);\n        $.ajax({\n            url: patientDiagnosisTestSaveUrl,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            processData: false,\n            contentType: false,\n            success: function (result) {\n                displaySuccessMessage(result.message);\n                window.location.href = patientDiagnosisTest;\n            },\n            error: function (result) {\n                printErrorMessage('#validationErrorsBox', result);\n            },\n            complete: function () {\n                screenUnLock();\n                loadingButton.button('reset');\n            },\n        });\n    });\n\n});\n"],"sourceRoot":""}