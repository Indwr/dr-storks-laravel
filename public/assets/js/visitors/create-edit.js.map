{"version":3,"sources":["webpack:///./resources/assets/js/visitors/create-edit.js"],"names":["$","document","ready","submit","text","focus","on","e","keyCode","which","preventDefault","datetimepicker","DatetimepickerDefaults","format","useCurrent","sideBySide","widgetPositioning","horizontal","vertical","minDate","moment","Date","data","date","select2","width","extension","isValidDocument","this","isEmpty","html","hide","displayDocument","window","inputSelector","validationMessageSelector","ext","val","split","pop","toLowerCase","inArray","removeClass","addClass","attr"],"mappings":"mBAEAA,EAAEC,UAAUC,OAAM,WACdF,EAAE,wCAAwCG,QAAO,WAC7C,GAA+B,KAA3BH,EAAE,cAAcI,OAEhB,OADAJ,EAAE,gBAAgBK,SACX,KAIfL,EAAE,wCACEM,GAAG,kBAAkB,SAAUC,GAE3B,GAAgB,MADFA,EAAEC,SAAWD,EAAEE,OAGzB,OADAF,EAAEG,kBACK,KAInBV,EAAE,SAASW,eAAeC,uBAAuB,CAC7CC,OAAQ,aACRC,YAAY,EACZC,YAAY,KAGhBf,EAAE,oBACEW,eAAeC,uBAAuB,CAClCC,OAAQ,WACRC,YAAY,EACZC,YAAY,EACZC,kBAAmB,CACfC,WAAY,OACZC,SAAU,aAGtBlB,EAAE,YAAYW,eAAeC,uBAAuB,CAChDC,OAAQ,WACRC,YAAY,EACZC,YAAY,EACZI,QAASC,OAAO,IAAIC,MAAQR,OAAO,eAEvCb,EAAE,WAAWM,GAAG,aAAa,SAAUC,GACnCP,EAAE,YAAYsB,KAAK,kBAAkBH,QAAQZ,EAAEgB,SAGnDvB,EAAEC,UAAUC,OAAM,WACdF,EAAE,YACEwB,QAAQ,CACJC,MAAO,YAInBzB,EAAEC,UAAUK,GAAG,SAAU,eAAe,WACpC,IAAIoB,EAAYC,gBAAgB3B,EAAE4B,MAAO,+BACpCC,QAAQH,IAA2B,GAAbA,IACvB1B,EAAE,wBAAwB8B,KAAK,IAAIC,OACnCC,gBAAgBJ,KAAM,gBAAiBF,OAI/CO,OAAON,gBAAkB,SACrBO,EAAeC,GACf,IAAIC,EAAMpC,EAAEkC,GAAeG,MAAMC,MAAM,KAAKC,MAAMC,cAClD,OACK,GADDxC,EAAEyC,QAAQL,EAAK,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAO,UAEpDpC,EAAEkC,GAAeG,IAAI,IACrBrC,EAAEmC,GACEL,KACI,wEACJY,YAAY,iBAET,IAEX1C,EAAEmC,GAA2BQ,SAAS,gBAE/BP,IAGXpC,EAAEC,UACEK,GAAG,SAAU,wCAAwC,WACjDN,EAAE,YAAY4C,KAAK,YAAY,U","file":"/assets/js/visitors/create-edit.js","sourcesContent":["'use strict';\n\n$(document).ready(function () {\n    $('#createVisitorForm, #editVisitorForm').submit(function () {\n        if ($('#error-msg').text() !== '') {\n            $('#phoneNumber').focus();\n            return false;\n        }\n    });\n\n    $('#createVisitorForm, #editVisitorForm').\n        on('keyup keypress', function (e) {\n            let keyCode = e.keyCode || e.which;\n            if (keyCode === 13) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n    $('#date').datetimepicker(DatetimepickerDefaults({\n        format: 'YYYY-MM-DD',\n        useCurrent: true,\n        sideBySide: true,\n    }));\n\n    $('#inTime,#outTime').\n        datetimepicker(DatetimepickerDefaults({\n            format: 'HH:mm:ss',\n            useCurrent: true,\n            sideBySide: true,\n            widgetPositioning: {\n                horizontal: 'left',\n                vertical: 'bottom',\n            },\n        }));\n    $('#outTime').datetimepicker(DatetimepickerDefaults({\n        format: 'HH:mm:ss',\n        useCurrent: true,\n        sideBySide: true,\n        minDate: moment(new Date()).format('HH:mm:ss'),\n    }));\n    $('#inTime').on('dp.change', function (e) {\n        $('#outTime').data('DateTimePicker').minDate(e.date);\n    });\n\n    $(document).ready(function () {\n        $('#purpose').\n            select2({\n                width: '100%',\n            });\n    });\n\n    $(document).on('change', '#attachment', function () {\n        let extension = isValidDocument($(this), '#visitorValidationErrorsBox');\n        if (!isEmpty(extension) && extension != false) {\n            $('#validationErrorsBox').html('').hide();\n            displayDocument(this, '#previewImage', extension);\n        }\n    });\n\n    window.isValidDocument = function (\n        inputSelector, validationMessageSelector) {\n        let ext = $(inputSelector).val().split('.').pop().toLowerCase();\n        if ($.inArray(ext, ['png', 'jpg', 'jpeg', 'pdf', 'doc', 'docx']) ==\n            -1) {\n            $(inputSelector).val('');\n            $(validationMessageSelector).\n                html(\n                    'The document must be a file of type: jpeg, jpg, png, pdf, doc, docx.').\n                removeClass('display-none');\n\n            return false;\n        }\n        $(validationMessageSelector).addClass('display-none');\n\n        return ext;\n    };\n\n    $(document).\n        on('submit', '#createVisitorForm, #editVisitorForm', function () {\n            $('#btnSave').attr('disabled', true);\n        });\n});\n"],"sourceRoot":""}