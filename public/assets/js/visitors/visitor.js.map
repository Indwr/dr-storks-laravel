{"version":3,"sources":["webpack:///./resources/assets/js/visitors/visitor.js"],"names":["tableName","$","DataTable","processing","serverSide","ajax","url","visitorUrl","data","purpose","find","val","columnDefs","targets","defaultContent","columns","row","name","isEmpty","phone","id_card","no_of_person","date","in_time","out_time","document_url","downloadDocumentUrl","id","prepareTemplateRender","change","reload","document","on","event","visitorId","currentTarget","deleteItem","ready","select2","width"],"mappings":"mBAEA,IAAIA,EAAY,cACNC,EAAE,eAAeC,UAAU,CACjCC,YAAY,EACZC,YAAY,EACZ,MAAS,CAAC,CAAC,EAAG,QACdC,KAAM,CACFC,IAAKC,WACLC,KAAM,SAAUA,GACZA,EAAKC,QAAUR,EAAE,eAAeS,KAAK,mBAAmBC,QAGhEC,WAAY,CACR,CACI,QAAW,CAAC,GACZ,WAAa,EACb,UAAa,cACb,MAAS,MAEb,CACI,QAAW,CAAC,GACZ,WAAa,GAEjB,CACIC,QAAS,OACTC,eAAgB,QAGxBC,QAAS,CACL,CACIP,KAAM,SAAUQ,GACZ,OAAmB,GAAfA,EAAIP,QACG,QACe,GAAfO,EAAIP,QACJ,UAEA,WAGfQ,KAAM,WAEV,CACIT,KAAM,OACNS,KAAM,QAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAIG,OAAS,MAAQH,EAAIG,OAE5CF,KAAM,SAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAII,SAAW,MAAQJ,EAAII,SAE9CH,KAAM,WAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAIK,cAAgB,MAAQL,EAAIK,cAEnDJ,KAAM,gBAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAIM,MAAQ,MAAQN,EAAIM,MAE3CL,KAAM,QAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAIO,SAAW,MAAQP,EAAIO,SAE9CN,KAAM,WAEV,CACIT,KAAM,SAAUQ,GACZ,OAAOE,QAAQF,EAAIQ,UAAY,MAAQR,EAAIQ,UAE/CP,KAAM,YAEV,CACIT,KAAM,SAAUQ,GACZ,MAAwB,IAApBA,EAAIS,aAEG,aADYC,oBAAsB,IAAMV,EAAIW,IAC5C,iBAGJ,OAEXV,KAAM,MAEV,CACIT,KAAM,SAAUQ,GACZ,IAAIV,EAAMC,WAAaS,EAAIW,GACvBnB,EAAO,CACP,CACI,GAAMQ,EAAIW,GACV,IAAOrB,EAAM,UAErB,OAAOsB,sBAAsB,yBAA0BpB,IACxDS,KAAM,OAGjB,eAAkB,WACdhB,EAAE,eAAe4B,QAAO,WACpB5B,EAAED,GAAWE,YAAYG,KAAKyB,OAAO,MAAM,SAKvD7B,EAAE8B,UAAUC,GAAG,QAAS,eAAe,SAAUC,GAC7C,IAAIC,EAAYjC,EAAEgC,EAAME,eAAe3B,KAAK,MAC5C4B,WAAW7B,WAAa2B,EAAWlC,EAAW,cAGlDC,EAAE8B,UAAUM,OAAM,WACdpC,EAAE,eACEqC,QAAQ,CACJC,MAAO,a","file":"/assets/js/visitors/visitor.js","sourcesContent":["'use strict';\n\nlet tableName = '#visitorTbl';\nlet tbl = $('#visitorTbl').DataTable({\n    processing: true,\n    serverSide: true,\n    'order': [[0, 'asc']],\n    ajax: {\n        url: visitorUrl,\n        data: function (data) {\n            data.purpose = $('#purposeArr').find('option:selected').val();\n        },\n    },\n    columnDefs: [\n        {\n            'targets': [9],\n            'orderable': false,\n            'className': 'text-center',\n            'width': '8%',\n        },\n        {\n            'targets': [8],\n            'orderable': false,\n        },\n        {\n            targets: '_all',\n            defaultContent: 'N/A',\n        },\n    ],\n    columns: [\n        {\n            data: function (row) {\n                if (row.purpose == 1) {\n                    return 'Visit';\n                } else if (row.purpose == 2) {\n                    return 'Enquiry';\n                } else {\n                    return 'Seminar';\n                }\n            },\n            name: 'purpose',\n        },\n        {\n            data: 'name',\n            name: 'name',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.phone) ? 'N/A' : row.phone;\n            },\n            name: 'phone',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.id_card) ? 'N/A' : row.id_card;\n            },\n            name: 'id_card',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.no_of_person) ? 'N/A' : row.no_of_person;\n            },\n            name: 'no_of_person',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.date) ? 'N/A' : row.date;\n            },\n            name: 'date',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.in_time) ? 'N/A' : row.in_time;\n            },\n            name: 'in_time',\n        },\n        {\n            data: function (row) {\n                return isEmpty(row.out_time) ? 'N/A' : row.out_time;\n            },\n            name: 'out_time',\n        },\n        {\n            data: function (row) {\n                if (row.document_url != '') {\n                    let downloadLink = downloadDocumentUrl + '/' + row.id;\n                    return '<a href=\"' + downloadLink + '\">' + 'Download' +\n                        '</a>';\n                }\n                return 'N/A';\n            },\n            name: 'id',\n        },\n        {\n            data: function (row) {\n                let url = visitorUrl + row.id;\n                let data = [\n                    {\n                        'id': row.id,\n                        'url': url + '/edit',\n                    }];\n                return prepareTemplateRender('#visitorActionTemplate', data);\n            }, name: 'id',\n        },\n    ],\n    'fnInitComplete': function () {\n        $('#purposeArr').change(function () {\n            $(tableName).DataTable().ajax.reload(null, true);\n        });\n    },\n});\n\n$(document).on('click', '.delete-btn', function (event) {\n    let visitorId = $(event.currentTarget).data('id');\n    deleteItem(visitorUrl + visitorId, tableName, 'Visitor');\n});\n\n$(document).ready(function () {\n    $('#purposeArr').\n        select2({\n            width: '100%',\n        });\n});\n"],"sourceRoot":""}