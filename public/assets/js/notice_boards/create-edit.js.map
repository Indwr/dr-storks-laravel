{"version":3,"sources":["webpack:///./resources/assets/js/notice_boards/create-edit.js"],"names":["$","document","on","event","preventDefault","loadingButton","jQuery","this","find","button","ajax","url","noticeBoardCreateUrl","type","data","serialize","success","result","displaySuccessMessage","message","modal","DataTable","reload","error","printErrorMessage","complete","ajaxCallIsRunning","ajaxCallInProgress","noticeBoardId","currentTarget","renderData","window","id","noticeBoardUrl","val","title","description","ajaxCallCompleted","manageAjaxErrors","resetModalForm"],"mappings":"mBAEAA,EAAEC,UAAUC,GAAG,SAAU,eAAe,SAAUC,GAC9CA,EAAMC,iBACN,IAAIC,EAAgBC,OAAOC,MAAMC,KAAK,YACtCH,EAAcI,OAAO,WACrBT,EAAEU,KAAK,CACHC,IAAKC,qBACLC,KAAM,OACNC,KAAMd,EAAEO,MAAMQ,YACdC,QAAS,SAAUC,GACXA,EAAOD,UACPE,sBAAsBD,EAAOE,SAC7BnB,EAAE,aAAaoB,MAAM,QACrBpB,EAAE,sBAAsBqB,YAAYX,KAAKY,OAAO,MAAM,KAG9DC,MAAO,SAAUN,GACbO,kBAAkB,uBAAwBP,IAE9CQ,SAAU,WACNpB,EAAcI,OAAO,eAKjCT,EAAEC,UAAUC,GAAG,QAAS,aAAa,SAAUC,GAC3C,IAAIuB,kBAAJ,CAGAC,qBACA,IAAIC,EAAgB5B,EAAEG,EAAM0B,eAAef,KAAK,MAChDgB,WAAWF,OAGfG,OAAOD,WAAa,SAAUE,GAC1BhC,EAAEU,KAAK,CACHC,IAAKsB,eAAiB,IAAMD,EAAK,QACjCnB,KAAM,MACNG,QAAS,SAAUC,GACXA,EAAOD,UACPhB,EAAE,kBAAkBkC,IAAIjB,EAAOH,KAAKkB,IACpChC,EAAE,cAAckC,IAAIjB,EAAOH,KAAKqB,OAChCnC,EAAE,oBAAoBkC,IAAIjB,EAAOH,KAAKsB,aACtCpC,EAAE,cAAcoB,MAAM,QACtBiB,sBAGRd,MAAO,SAAUN,GACbqB,iBAAiBrB,OAK7BjB,EAAEC,UAAUC,GAAG,SAAU,aAAa,SAAUC,GAC5CA,EAAMC,iBACN,IAAIC,EAAgBC,OAAOC,MAAMC,KAAK,gBACtCH,EAAcI,OAAO,WACrB,IAAIuB,EAAKhC,EAAE,kBAAkBkC,MAC7BlC,EAAEU,KAAK,CACHC,IAAKsB,eAAiB,IAAMD,EAC5BnB,KAAM,QACNC,KAAMd,EAAEO,MAAMQ,YACdC,QAAS,SAAUC,GACXA,EAAOD,UACPE,sBAAsBD,EAAOE,SAC7BnB,EAAE,cAAcoB,MAAM,QACtBpB,EAAE,sBAAsBqB,YAAYX,KAAKY,OAAO,MAAM,KAG9DC,MAAO,SAAUN,GACbqB,iBAAiBrB,IAErBQ,SAAU,WACNpB,EAAcI,OAAO,eAKjCT,EAAE,aAAaE,GAAG,mBAAmB,WACjCqC,eAAe,cAAe,2BAGlCvC,EAAE,cAAcE,GAAG,mBAAmB,WAClCqC,eAAe,YAAa,gC","file":"/assets/js/notice_boards/create-edit.js","sourcesContent":["'use strict';\n\n$(document).on('submit', '#addNewForm', function (event) {\n    event.preventDefault();\n    var loadingButton = jQuery(this).find('#btnSave');\n    loadingButton.button('loading');\n    $.ajax({\n        url: noticeBoardCreateUrl,\n        type: 'POST',\n        data: $(this).serialize(),\n        success: function (result) {\n            if (result.success) {\n                displaySuccessMessage(result.message);\n                $('#addModal').modal('hide');\n                $('#noticeBoardsTable').DataTable().ajax.reload(null, false);\n            }\n        },\n        error: function (result) {\n            printErrorMessage('#validationErrorsBox', result);\n        },\n        complete: function () {\n            loadingButton.button('reset');\n        },\n    });\n});\n\n$(document).on('click', '.edit-btn', function (event) {\n    if (ajaxCallIsRunning) {\n        return;\n    }\n    ajaxCallInProgress();\n    let noticeBoardId = $(event.currentTarget).data('id');\n    renderData(noticeBoardId);\n});\n\nwindow.renderData = function (id) {\n    $.ajax({\n        url: noticeBoardUrl + '/' + id + '/edit',\n        type: 'GET',\n        success: function (result) {\n            if (result.success) {\n                $('#noticeBoardId').val(result.data.id);\n                $('#editTitle').val(result.data.title);\n                $('#editDescription').val(result.data.description);\n                $('#editModal').modal('show');\n                ajaxCallCompleted();\n            }\n        },\n        error: function (result) {\n            manageAjaxErrors(result);\n        },\n    });\n};\n\n$(document).on('submit', '#editForm', function (event) {\n    event.preventDefault();\n    var loadingButton = jQuery(this).find('#btnEditSave');\n    loadingButton.button('loading');\n    let id = $('#noticeBoardId').val();\n    $.ajax({\n        url: noticeBoardUrl + '/' + id,\n        type: 'patch',\n        data: $(this).serialize(),\n        success: function (result) {\n            if (result.success) {\n                displaySuccessMessage(result.message);\n                $('#editModal').modal('hide');\n                $('#noticeBoardsTable').DataTable().ajax.reload(null, false);\n            }\n        },\n        error: function (result) {\n            manageAjaxErrors(result);\n        },\n        complete: function () {\n            loadingButton.button('reset');\n        },\n    });\n});\n\n$('#addModal').on('hidden.bs.modal', function () {\n    resetModalForm('#addNewForm', '#validationErrorsBox');\n});\n\n$('#editModal').on('hidden.bs.modal', function () {\n    resetModalForm('#editForm', '#editValidationErrorsBox');\n});"],"sourceRoot":""}