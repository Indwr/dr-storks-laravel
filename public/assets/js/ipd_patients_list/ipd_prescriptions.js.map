{"version":3,"sources":["webpack:///./resources/assets/js/ipd_patients_list/ipd_prescriptions.js"],"names":["$","document","ready","DataTable","processing","serverSide","ajax","url","ipdPrescriptionUrl","data","id","ipdPatientDepartmentId","columnDefs","targets","defaultContent","columns","row","patient","ipd_number","name","render","created_at","moment","format","on","this","type","success","result","html","modal","ajaxCallCompleted","divToPrint","getElementById","newWin","window","open","write","bootstarpUrl","innerHTML","close","setTimeout"],"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WACd,aAGAF,EADgB,uBACHG,UAAU,CACnBC,YAAY,EACZC,YAAY,EACZ,MAAS,CAAC,CAAC,EAAG,SACdC,KAAM,CACFC,IAAKC,mBACLC,KAAM,SAAUA,GACZA,EAAKC,GAAKC,yBAGlBC,WAAY,CACR,CACIC,QAAS,OACTC,eAAgB,QAGxBC,QAAS,CACL,CACIN,KAAM,SAAUO,GACZ,MAAO,0EACHA,EAAIN,GAAK,KACTM,EAAIC,QAAQC,WACZ,QAERC,KAAM,sBAEV,CACIV,KAAM,SAAUO,GACZ,OAAOA,GAEXI,OAAQ,SAAUJ,GACd,OAAuB,OAAnBA,EAAIK,WACG,MAGJC,OAAON,EAAIK,YAAYE,OAAO,cAEzCJ,KAAM,iBAKlBnB,EAAEC,UAAUuB,GAAG,QAAS,wBAAwB,WAC5CxB,EAAEM,KAAK,CACHC,IAAKC,mBAAqB,IAAMR,EAAEyB,MAAMhB,KAAK,WAC7CiB,KAAM,MACNC,QAAS,SAAUC,GACf5B,EAAE,4BAA4B6B,KAAKD,GACnC5B,EAAE,6BAA6B8B,MAAM,QACrCC,0BAKZ/B,EAAEC,UAAUuB,GAAG,QAAS,sBAAsB,WAC1C,IAAIQ,EAAa/B,SAASgC,eAAe,gBACrCC,EAASC,OAAOC,KAAK,GAAI,gBAC7BF,EAAOjC,SAASmC,OAChBF,EAAOjC,SAASoC,MACZ,qBAAuBC,aAAvB,qEAEmCN,EAAWO,UAC9C,kBACJL,EAAOjC,SAASuC,QAChBC,YAAW,WAAaP,EAAOM,UAAW","file":"/assets/js/ipd_patients_list/ipd_prescriptions.js","sourcesContent":["$(document).ready(function () {\n    'use strict';\n\n    let tableName = '#tblIpdPrescription';\n    $(tableName).DataTable({\n        processing: true,\n        serverSide: true,\n        'order': [[0, 'desc']],\n        ajax: {\n            url: ipdPrescriptionUrl,\n            data: function (data) {\n                data.id = ipdPatientDepartmentId;\n            },\n        },\n        columnDefs: [\n            {\n                targets: '_all',\n                defaultContent: 'N/A',\n            },\n        ],\n        columns: [\n            {\n                data: function (row) {\n                    return '<a href=\"javascript:void(0)\" class=\"viewIpdPrescription\" data-pres-id=\"' +\n                        row.id + '\">' +\n                        row.patient.ipd_number +\n                        '</a>';\n                },\n                name: 'patient.ipd_number',\n            },\n            {\n                data: function (row) {\n                    return row;\n                },\n                render: function (row) {\n                    if (row.created_at === null) {\n                        return 'N/A';\n                    }\n\n                    return moment(row.created_at).format('Do MMM, Y');\n                },\n                name: 'created_at',\n            },\n        ],\n    });\n\n    $(document).on('click', '.viewIpdPrescription', function () {\n        $.ajax({\n            url: ipdPrescriptionUrl + '/' + $(this).data('pres-id'),\n            type: 'get',\n            success: function (result) {\n                $('#ipdPrescriptionViewData').html(result);\n                $('#showIpdPrescriptionModal').modal('show');\n                ajaxCallCompleted();\n            },\n        });\n    });\n\n    $(document).on('click', '.printPrescription', function () {\n        let divToPrint = document.getElementById('DivIdToPrint');\n        let newWin = window.open('', 'Print-Window');\n        newWin.document.open();\n        newWin.document.write(\n            '<html><link href=\"' + bootstarpUrl +\n            '\" rel=\"stylesheet\" type=\"text/css\"/>' +\n            '<body onload=\"window.print()\">' + divToPrint.innerHTML +\n            '</body></html>');\n        newWin.document.close();\n        setTimeout(function () {newWin.close();}, 10);\n    });\n});\n"],"sourceRoot":""}