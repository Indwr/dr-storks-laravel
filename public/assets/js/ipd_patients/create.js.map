{"version":3,"sources":["webpack:///./resources/assets/js/ipd_patients/create.js"],"names":["$","document","ready","select2","width","datetimepicker","DatetimepickerDefaults","format","useCurrent","sideBySide","isEdit","trigger","data","minDate","val","Date","keyup","this","indexOf","split","length","isNaN","parseFloat","value","toFixed","submit","attr","on","ajax","url","patientCasesUrl","type","dataType","id","success","empty","removeAttr","each","i","v","append","text","prop","bedId","bedTypeId","ipdPatientBedId","ipdPatientBedTypeId","bedType","patientBedsUrl"],"mappings":"mBAEAA,EAAEC,UAAUC,OAAM,WACdF,EAAE,sDAAsDG,QAAQ,CAC5DC,MAAO,SAEXJ,EAAE,kBAAkBK,eAAeC,uBAAuB,CACtDC,OAAQ,sBACRC,YAAY,EACZC,YAAY,KAGZC,QACAV,EAAE,0BAA0BW,QAAQ,UACpCX,EAAE,kBACEY,KAAK,kBACLC,QAAQb,EAAE,kBAAkBc,QAEhCd,EAAE,kBAAkBY,KAAK,kBAAkBC,QAAQ,IAAIE,MAE3Df,EAAE,gBAAgBgB,OAAM,WACpB,IAAmC,GAA/BhB,EAAEiB,MAAMH,MAAMI,QAAQ,MAClBlB,EAAEiB,MAAMH,MAAMK,MAAM,KAAK,GAAGC,OAAS,EAAG,CACxC,GAAIC,MAAMC,WAAWL,KAAKM,QAAS,OACnCN,KAAKM,MAAQD,WAAWL,KAAKM,OAAOC,QAAQ,GAGpD,OAAOP,QAGXjB,EAAE,wDACEyB,QAAO,WACHzB,EAAE,YAAY0B,KAAK,YAAY,SAI3C1B,EAAE,cAAc2B,GAAG,UAAU,WACH,KAAlB3B,EAAEiB,MAAMH,OACRd,EAAE4B,KAAK,CACHC,IAAKC,gBACLC,KAAM,MACNC,SAAU,OACVpB,KAAM,CAAEqB,GAAIjC,EAAEiB,MAAMH,OACpBoB,QAAS,SAAUtB,GACU,IAArBA,EAAKA,KAAKQ,QACVpB,EAAE,WAAWmC,QACbnC,EAAE,WAAWoC,WAAW,YACxBpC,EAAEqC,KAAKzB,EAAKA,MAAM,SAAU0B,EAAGC,GAC3BvC,EAAE,WACEwC,OAAOxC,EAAE,qBACL0B,KAAK,QAASY,GACdG,KAAKF,QAGjBvC,EAAE,WAAW0C,KAAK,YAAY,MAK9C1C,EAAE,WAAWmC,QACbnC,EAAE,WAAW0C,KAAK,YAAY,MAGlC1C,EAAE,cAAc2B,GAAG,UAAU,WACzB,IAAIgB,EAAQ,KACRC,EAAY,KAOhB,GAN8B,oBAAnBC,iBACP,oBADgDC,sBAEhDH,EAAQE,gBACRD,EAAYE,qBAGM,KAAlB9C,EAAEiB,MAAMH,MAAc,CACtB,IAAIiC,EAAU/C,EAAEiB,MAAMH,MACtBd,EAAE4B,KAAK,CACHC,IAAKmB,eACLjB,KAAM,MACNC,SAAU,OACVpB,KAAM,CACFqB,GAAIjC,EAAEiB,MAAMH,MACZJ,OACAiC,MAAOA,EACPG,oBAAqBF,GAEzBV,QAAS,SAAUtB,GACG,OAAdA,EAAKA,KACoB,IAArBA,EAAKA,KAAKQ,SACVpB,EAAE,UAAUmC,QACZnC,EAAE,UAAUoC,WAAW,YACvBpC,EAAEqC,KAAKzB,EAAKA,MAAM,SAAU0B,EAAGC,GAC3BvC,EAAE,UACEwC,OAAOxC,EAAE,qBACL0B,KAAK,QAASY,GACdG,KAAKF,OAEa,oBAAnBM,iBACuB,oBAAvBC,qBACHC,IAAYD,qBACZ9C,EAAE,UACEc,IAAI+B,iBACJlC,QAAQ,kBAGpBX,EAAE,UAAU0C,KAAK,YAAY,IAGjC1C,EAAE,UAAU0C,KAAK,YAAY,MAK7C1C,EAAE,UAAUmC,QACZnC,EAAE,UAAU0C,KAAK,YAAY,O","file":"/assets/js/ipd_patients/create.js","sourcesContent":["'use strict';\n\n$(document).ready(function () {\n    $('#patientId, #caseId, #doctorId, #bedTypeId, #bedId').select2({\n        width: '100%',\n    });\n    $('#admissionDate').datetimepicker(DatetimepickerDefaults({\n        format: 'YYYY-MM-DD HH:mm:ss',\n        useCurrent: true,\n        sideBySide: true,\n    }));\n\n    if (isEdit) {\n        $('#patientId, #bedTypeId').trigger('change');\n        $('#admissionDate').\n            data('DateTimePicker').\n            minDate($('#admissionDate').val());\n    } else\n        $('#admissionDate').data('DateTimePicker').minDate(new Date());\n\n    $('.floatNumber').keyup(function () {\n        if ($(this).val().indexOf('.') != -1) {\n            if ($(this).val().split('.')[1].length > 2) {\n                if (isNaN(parseFloat(this.value))) return;\n                this.value = parseFloat(this.value).toFixed(2);\n            }\n        }\n        return this;\n    });\n\n    $('#createIpdPatientForm, #editIpdPatientDepartmentForm').\n        submit(function () {\n            $('#btnSave').attr('disabled', true);\n        });\n});\n\n$('#patientId').on('change', function () {\n    if ($(this).val() !== '') {\n        $.ajax({\n            url: patientCasesUrl,\n            type: 'get',\n            dataType: 'json',\n            data: { id: $(this).val() },\n            success: function (data) {\n                if (data.data.length !== 0) {\n                    $('#caseId').empty();\n                    $('#caseId').removeAttr('disabled');\n                    $.each(data.data, function (i, v) {\n                        $('#caseId').\n                            append($('<option></option>').\n                                attr('value', i).\n                                text(v));\n                    });\n                } else {\n                    $('#caseId').prop('disabled', true);\n                }\n            },\n        });\n    }\n    $('#caseId').empty();\n    $('#caseId').prop('disabled', true);\n});\n\n$('#bedTypeId').on('change', function () {\n    let bedId = null;\n    let bedTypeId = null;\n    if (typeof ipdPatientBedId != 'undefined' && typeof ipdPatientBedTypeId !=\n        'undefined') {\n        bedId = ipdPatientBedId;\n        bedTypeId = ipdPatientBedTypeId;\n    }\n\n    if ($(this).val() !== '') {\n        let bedType = $(this).val();\n        $.ajax({\n            url: patientBedsUrl,\n            type: 'get',\n            dataType: 'json',\n            data: {\n                id: $(this).val(),\n                isEdit: isEdit,\n                bedId: bedId,\n                ipdPatientBedTypeId: bedTypeId,\n            },\n            success: function (data) {\n                if (data.data !== null) {\n                    if (data.data.length !== 0) {\n                        $('#bedId').empty();\n                        $('#bedId').removeAttr('disabled');\n                        $.each(data.data, function (i, v) {\n                            $('#bedId').\n                                append($('<option></option>').\n                                    attr('value', i).\n                                    text(v));\n                        });\n                        if (typeof ipdPatientBedId != 'undefined' &&\n                            typeof ipdPatientBedTypeId != 'undefined') {\n                            if (bedType === ipdPatientBedTypeId) {\n                                $('#bedId').\n                                    val(ipdPatientBedId).\n                                    trigger('change.select2');\n                            }\n                        }\n                        $('#bedId').prop('required', true);\n                    }\n                } else {\n                    $('#bedId').prop('disabled', true);\n                }\n            },\n        });\n    }\n    $('#bedId').empty();\n    $('#bedId').prop('disabled', true);\n});\n"],"sourceRoot":""}